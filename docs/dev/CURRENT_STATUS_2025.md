# BDFEasyInput å½“å‰å·¥ä½œçŠ¶æ€æ€»ç»“

**æœ€åæ›´æ–°**: 2025å¹´12æœˆ17æ—¥

## ğŸ“Š é¡¹ç›®æ¦‚è§ˆ

BDFEasyInput æ˜¯ä¸€ä¸ªå®Œæ•´çš„ BDF é‡å­åŒ–å­¦è®¡ç®—å·¥ä½œæµå·¥å…·ï¼Œæ”¯æŒä»ä»»åŠ¡è§„åˆ’ã€è¾“å…¥ç”Ÿæˆã€è®¡ç®—æ‰§è¡Œåˆ°ç»“æœåˆ†æçš„å®Œæ•´æµç¨‹ã€‚é¡¹ç›®å·²å®Œæˆæ ¸å¿ƒåŠŸèƒ½å¼€å‘ï¼Œå¹¶æŒç»­å¢å¼ºä¸­ã€‚

## âœ… å·²å®Œæˆçš„æ ¸å¿ƒåŠŸèƒ½

### 1. è¾“å…¥è½¬æ¢æ¨¡å— (100% âœ…)

#### 1.1 YAML â†’ BDF è½¬æ¢å™¨
- âœ… **BDFConverter ç±»**ï¼šå®Œæ•´çš„è½¬æ¢å¼•æ“
- âœ… **æ¨¡å—åŒ–è®¾è®¡**ï¼šæ‰€æœ‰æ¨¡å—ç‹¬ç«‹å®ç°
  - `compass.py` - COMPASS æ¨¡å—ï¼ˆåˆ†å­ç»“æ„å’ŒåŸºç»„ï¼‰
  - `scf.py` - SCF æ¨¡å—ï¼ˆåŸºæ€è®¡ç®—ï¼Œå«æº¶å‰‚åŒ–æ”¯æŒï¼‰
  - `tddft.py` - TDDFT æ¨¡å—ï¼ˆæ¿€å‘æ€è®¡ç®—ï¼Œå«éå¹³è¡¡æº¶å‰‚åŒ–æ”¯æŒï¼‰
  - `bdfopt.py` - BDFOPT æ¨¡å—ï¼ˆå‡ ä½•ä¼˜åŒ–ï¼‰
  - `resp.py` - RESP æ¨¡å—ï¼ˆæ¢¯åº¦å’Œ Hessianï¼Œå«æ€ç‰¹å®šæº¶å‰‚åŒ–æ”¯æŒï¼‰
  - `xuanyuan.py` - XUANYUAN æ¨¡å—ï¼ˆç§¯åˆ†è®¡ç®—ï¼‰
  - `mp2.py` - MP2 æ¨¡å—ï¼ˆå HF æ–¹æ³•ï¼‰

#### 1.2 æ”¯æŒçš„è®¡ç®—ç±»å‹
- âœ… **SCF å•ç‚¹èƒ½é‡è®¡ç®—**ï¼šRHF, UHF, RKS, UKS, ROKS
- âœ… **TDDFT æ¿€å‘æ€è®¡ç®—**ï¼š
  - Singlet/Triplet æ¿€å‘æ€
  - Spin-flip TDDFT
  - SOC (Spin-Orbit Coupling) è®¡ç®—æ¡†æ¶
  - **æ¿€å‘æ€æº¶å‰‚æ•ˆåº”**ï¼š
    - cLRï¼ˆçº¿æ€§å“åº”éå¹³è¡¡æº¶å‰‚åŒ–ï¼‰âœ…
    - ptSSï¼ˆæ€ç‰¹å®šå¾®æ‰°ç†è®ºéå¹³è¡¡æº¶å‰‚åŒ–ï¼‰âœ…
- âœ… **ç»“æ„ä¼˜åŒ–**ï¼šåŸºæ€å’Œæ¿€å‘æ€å‡ ä½•ä¼˜åŒ–
- âœ… **é¢‘ç‡è®¡ç®—**ï¼šHessian è®¡ç®—ï¼ˆ`hess only` å’Œ `hess final`ï¼‰

#### 1.3 æº¶å‰‚åŒ–æ•ˆåº”æ”¯æŒ
- âœ… **åŸºæ€æº¶å‰‚åŒ–**ï¼šIEFPCM, COSMO, CPCM, SMD ç­‰
- âœ… **æ¿€å‘æ€æº¶å‰‚åŒ–**ï¼š
  - **cLR æ¨¡å¼**ï¼šçº¿æ€§å“åº”éå¹³è¡¡æº¶å‰‚åŒ–ï¼ˆ`solneqlr`ï¼‰
  - **ptSS æ¨¡å¼**ï¼šæ€ç‰¹å®šå¾®æ‰°ç†è®ºï¼ˆè‡ªåŠ¨ç”Ÿæˆ 2Ã—TDDFT + RESP å—ï¼‰
- âœ… **ç”¨æˆ·è‡ªå®šä¹‰æº¶å‰‚**ï¼šæ”¯æŒè‡ªå®šä¹‰ä»‹ç”µå¸¸æ•°å’Œå…‰å­¦ä»‹ç”µå¸¸æ•°

### 2. æ‰§è¡Œæ¨¡å— (100% âœ…)

#### 2.1 æ‰§è¡Œæ¨¡å¼
- âœ… **BDFDirectRunner**ï¼šç›´æ¥æ‰§è¡Œæ¨¡å¼
  - è‡ªåŠ¨è®¾ç½®ç¯å¢ƒå˜é‡ï¼ˆBDFHOME, BDF_TMPDIR, BDF_WORKDIRï¼‰
  - æ”¯æŒ OpenMP çº¿ç¨‹é…ç½®
  - Debug ç›®å½•æ”¯æŒ
- âœ… **BDFAutotestRunner**ï¼šBDFAutotest é›†æˆæ¨¡å¼
  - é€šè¿‡ BDFAutotest å·¥ç¨‹è¿è¡Œè®¡ç®—
  - è‡ªåŠ¨ç®¡ç†è¾“å…¥è¾“å‡ºæ–‡ä»¶
  - Debug ç›®å½•æ”¯æŒ

#### 2.2 CLI å‘½ä»¤
- âœ… `bdfeasyinput run` - æ‰§è¡Œ BDF è®¡ç®—
- âœ… `bdfeasyinput convert` - YAML è½¬ BDF è¾“å…¥
- âœ… `bdfeasyinput workflow` - å®Œæ•´å·¥ä½œæµ

### 3. åˆ†ææ¨¡å— (100% âœ…)

#### 3.1 è¾“å‡ºè§£æå™¨ (`output_parser.py`)
- âœ… **èƒ½é‡æå–**ï¼š
  - æ€»èƒ½é‡ (E_tot)
  - SCF èƒ½é‡ (E_ele)
  - èƒ½é‡åˆ†é‡ï¼ˆE_nn, E_1e, E_ne, E_kin, E_ee, E_xcï¼‰
  - Virial Ratio
- âœ… **å‡ ä½•ç»“æ„æå–**ï¼šåŸå­åæ ‡ï¼ˆBohr/Ã…ï¼‰
- âœ… **SCF æ”¶æ•›ä¿¡æ¯**ï¼š
  - è¿­ä»£æ¬¡æ•°
  - æ”¶æ•›æ ‡å‡†ï¼ˆTHRENE, THRDENï¼‰
  - å®é™…æ”¶æ•›å€¼ï¼ˆDeltaE, DeltaDï¼‰
- âœ… **HOMO-LUMO ä¿¡æ¯**ï¼š
  - Alpha/Beta HOMO/LUMO è½¨é“èƒ½é‡
  - HOMO-LUMO gapï¼ˆè‡ªåŠ¨å•ä½è½¬æ¢ï¼‰
- âœ… **TDDFT è§£æ**ï¼š
  - æ¿€å‘æ€èƒ½é‡ã€æ³¢é•¿ã€æŒ¯å­å¼ºåº¦
  - TDA vs TDDFT è¯†åˆ«ï¼ˆåŸºäº `itda` å‚æ•°ï¼‰
  - Spin-flip è®¡ç®—è¯†åˆ«å’Œè¯´æ˜
  - JK ç®—ç¬¦å†…å­˜ä¿¡æ¯
  - æ•ˆç‡æç¤ºï¼ˆMEMJKOP å»ºè®®ï¼‰
- âœ… **æº¶å‰‚æ•ˆåº”è§£æ**ï¼š
  - æº¶å‰‚æ¨¡å‹æ–¹æ³•ï¼ˆIEFPCM ç­‰ï¼‰
  - æº¶å‰‚åç§°å’Œä»‹ç”µå¸¸æ•°
  - **éå¹³è¡¡æº¶å‰‚åŒ–æ ¡æ­£**ï¼š
    - cLR æ ¡æ­£å€¼æå–
    - ptSS æ–¹æ³•è¯†åˆ«
    - æ ¡æ­£åçš„å‚ç›´æ¿€å‘èƒ½
    - éå¹³è¡¡/å¹³è¡¡æº¶å‰‚åŒ–è‡ªç”±èƒ½

#### 3.2 AI åˆ†æå™¨ (`quantum_chem_analyzer.py`)
- âœ… **ä¸“å®¶çº§åˆ†æ**ï¼šåŸºäºé‡å­åŒ–å­¦ä¸“å®¶ç³»ç»Ÿæç¤ºè¯
- âœ… **å¤šè¯­è¨€æ”¯æŒ**ï¼šä¸­æ–‡å’Œè‹±æ–‡åˆ†æ
- âœ… **å¤šæœåŠ¡å•†æ”¯æŒ**ï¼šOllama, OpenAI, Anthropic, OpenRouter, Together, Groq, DeepSeek, Mistral, Perplexity

#### 3.3 æŠ¥å‘Šç”Ÿæˆå™¨ (`report_generator.py`)
- âœ… **å¤šæ ¼å¼æ”¯æŒ**ï¼šMarkdown, HTML, Text
- âœ… **å®Œæ•´æ•°æ®å±•ç¤º**ï¼š
  - è®¡ç®—æ‘˜è¦
  - èƒ½é‡åˆ†æï¼ˆå«è¯¦ç»†èƒ½é‡åˆ†é‡è¯´æ˜ï¼‰
  - å‡ ä½•ç»“æ„åˆ†æ
  - æ”¶æ•›åˆ†æ
  - åŸå§‹æ•°æ®ï¼ˆå«æº¶å‰‚æ•ˆåº”ã€JK å†…å­˜ä¿¡æ¯ï¼‰
  - ä¸“ä¸šå»ºè®®
  - ä¸“å®¶è§è§£
- âœ… **å¤šè¯­è¨€æ”¯æŒ**ï¼šä¸­è‹±æ–‡æŠ¥å‘Šç”Ÿæˆ
- âœ… **æœ¬åœ°åŒ–æ ‡ç­¾ç³»ç»Ÿ**ï¼šæ‰€æœ‰æ–‡æœ¬é€šè¿‡ `report_labels.py` ç®¡ç†

### 4. AI æ¨¡å— (100% âœ…)

#### 4.1 AI å®¢æˆ·ç«¯
- âœ… **å¤šæœåŠ¡å•†æ”¯æŒ**ï¼š
  - Ollamaï¼ˆæœ¬åœ°æ¨¡å‹ï¼‰
  - OpenAI
  - Anthropic
  - OpenRouterï¼ˆç»Ÿä¸€è®¿é—®å¤šä¸ªæ¨¡å‹ï¼‰
  - Together AI
  - Groq
  - DeepSeek
  - Mistral AI
  - Perplexity
- âœ… **ç»Ÿä¸€æ¥å£**ï¼šæ‰€æœ‰æœåŠ¡å•†ä½¿ç”¨ OpenAI å…¼å®¹æ¥å£

#### 4.2 AI åŠŸèƒ½
- âœ… **ä»»åŠ¡è§„åˆ’**ï¼šè‡ªç„¶è¯­è¨€ â†’ YAML é…ç½®
- âœ… **ç»“æœåˆ†æ**ï¼šè®¡ç®—ç»“æœ â†’ ä¸“å®¶çº§åˆ†ææŠ¥å‘Š

### 5. é…ç½®ç³»ç»Ÿ (100% âœ…)

#### 5.1 å…¨å±€é…ç½®
- âœ… **config/config.yaml**ï¼šç»Ÿä¸€çš„é…ç½®æ–‡ä»¶
  - æ‰§è¡Œé…ç½®ï¼ˆç›´æ¥æ¨¡å¼/BDFAutotest æ¨¡å¼ï¼‰
  - AI é…ç½®ï¼ˆå¤šæœåŠ¡å•†æ”¯æŒï¼‰
  - åˆ†æé…ç½®ï¼ˆè¯­è¨€ã€æ ¼å¼ç­‰ï¼‰

#### 5.2 é…ç½®ç®¡ç†
- âœ… è‡ªåŠ¨åŠ è½½å’ŒéªŒè¯
- âœ… ç¯å¢ƒå˜é‡æ”¯æŒ
- âœ… é»˜è®¤å€¼å¤„ç†

## ğŸ†• æœ€æ–°å®Œæˆçš„åŠŸèƒ½ï¼ˆ2025å¹´12æœˆï¼‰

### 1. æ¿€å‘æ€æº¶å‰‚æ•ˆåº”æ”¯æŒ âœ…

#### 1.1 è§£æå™¨å¢å¼º
- âœ… æå–éå¹³è¡¡æº¶å‰‚åŒ–æ ¡æ­£ä¿¡æ¯ï¼ˆcLRï¼‰
- âœ… è¯†åˆ« ptSSï¼ˆæ€ç‰¹å®šï¼‰vs cLRï¼ˆçº¿æ€§å“åº”ï¼‰æ–¹æ³•
- âœ… æå–æ ¡æ­£åçš„å‚ç›´æ¿€å‘èƒ½ã€éå¹³è¡¡/å¹³è¡¡æº¶å‰‚åŒ–è‡ªç”±èƒ½

#### 1.2 è½¬æ¢å™¨å¢å¼º
- âœ… æ”¯æŒ `solvent_effect.mode: clr` - çº¿æ€§å“åº”éå¹³è¡¡æº¶å‰‚åŒ–
- âœ… æ”¯æŒ `solvent_effect.mode: ptss` - æ€ç‰¹å®šå¾®æ‰°ç†è®º
  - è‡ªåŠ¨ç”Ÿæˆ 2 ä¸ª TDDFT å— + 1 ä¸ª RESP å—
  - è‡ªåŠ¨é…ç½® `solneqlr` å’Œ `solneqss` å…³é”®è¯

#### 1.3 æŠ¥å‘Šå¢å¼º
- âœ… æ˜¾ç¤ºéå¹³è¡¡æº¶å‰‚åŒ–æ–¹æ³•è¯´æ˜
- âœ… cLR æ ¡æ­£è¡¨æ ¼ï¼ˆæ ¡æ­£åçš„æ¿€å‘èƒ½ã€æº¶å‰‚åŒ–è‡ªç”±èƒ½ç­‰ï¼‰
- âœ… ä¸­è‹±æ–‡æ ‡ç­¾æ”¯æŒ

### 2. TDDFT æ–¹æ³•è¯†åˆ«å¢å¼º âœ…
- âœ… ä¿®å¤ TDA vs TDDFT è¯†åˆ«é€»è¾‘
- âœ… é»˜è®¤ä½¿ç”¨ TDDFT (RPA)ï¼Œåªæœ‰ `itda=1` æ—¶æ‰ä½¿ç”¨ TDA
- âœ… é€šè¿‡ `[method]` å­—æ®µè¾…åŠ©åˆ¤æ–­

### 3. JK ç®—ç¬¦å†…å­˜ä¿¡æ¯ âœ…
- âœ… æå– JK ç®—ç¬¦å†…å­˜ä¼°ç®—å’Œæœ€å¤§è®¾ç½®
- âœ… æå– RPA/TDA æ¯æ¬¡å¯è®¡ç®—çš„æ ¹æ•°
- âœ… æ•ˆç‡æç¤ºï¼šå½“ç”¨æˆ·è¦æ±‚çš„æ ¹æ•° > æ¯æ¬¡å¯è®¡ç®—çš„æ ¹æ•°æ—¶ï¼Œå»ºè®®ä½¿ç”¨ MEMJKOP

### 4. ç›®å½•æ•´ç† âœ…
- âœ… å°†æ‰€æœ‰å¼€å‘æ–‡æ¡£ç§»åŠ¨åˆ° `docs/dev/`
- âœ… å°†æ‰€æœ‰æµ‹è¯•æ–‡ä»¶ç§»åŠ¨åˆ° `tests/`
- âœ… ä¿ç•™ `README.md` åœ¨æ ¹ç›®å½•

### 5. å…³é”®è¯é€ä¼ æœºåˆ¶ âœ… â­ NEW (2025å¹´12æœˆ)

#### 5.1 æ ¸å¿ƒåŠŸèƒ½
- âœ… **é€šç”¨é€ä¼ å‡½æ•°** (`passthrough.py`)ï¼š
  - ç»Ÿä¸€çš„ `append_passthrough_lines` å‡½æ•°
  - è‡ªåŠ¨å¤„ç†å…³é”®è¯æ ¼å¼ï¼ˆé¦–å­—æ¯å¤§å†™ï¼‰
  - å…³é”®è¯å’Œå€¼åˆ†è¡Œè¾“å‡ºï¼ˆç¬¦åˆ BDF æ ¼å¼è¦æ±‚ï¼‰
  - æ”¯æŒå¤šç§æ•°æ®ç±»å‹ï¼ˆå¸ƒå°”ã€æ•°å€¼ã€å­—ç¬¦ä¸²ã€åˆ—è¡¨ï¼‰
  - ä¿æŠ¤æœºåˆ¶é˜²æ­¢è¦†ç›–ç³»ç»Ÿå…³é”®å‚æ•°

#### 5.2 æ¨¡å—æ”¯æŒ
- âœ… **SCF æ¨¡å—é€ä¼ **ï¼š
  - æ˜ å°„ï¼š`settings.scf` â†’ `$SCF` æ¨¡å—
  - è‡ªåŠ¨æ·»åŠ  `molden` å…³é”®è¯ï¼ˆä¿å­˜æ³¢å‡½æ•°ä¸º molden æ ¼å¼ï¼‰
  - æ™ºèƒ½å¤„ç† `convergence`ï¼šä»…å½“å€¼ä¸ç­‰äºé»˜è®¤å€¼ï¼ˆ1e-8ï¼‰æ—¶æ·»åŠ  `THRENE`
  - ä¿æŠ¤å…³é”®è¯ï¼š`charge`, `spin`, `dft functional`, `occupied`, `solvent` ç›¸å…³, `threne`, `molden`
  
- âœ… **TDDFT æ¨¡å—é€ä¼ **ï¼š
  - æ˜ å°„ï¼š`settings.tddft` â†’ `$TDDFT` æ¨¡å—
  - ä¿æŠ¤ç°æœ‰å…³é”®è¯ï¼š`isf`, `iroot`, `itda`, `idiag`, `iwindow`, `istore`, `crit_vec`, `crit_e`, `iprt`, `solneqlr`, `soleqlr`
  
- âœ… **BDFOPT æ¨¡å—é€ä¼ **ï¼š
  - æ˜ å°„ï¼š`settings.geometry_optimization` â†’ `$BDFOPT` æ¨¡å—
  - ä¿æŠ¤ç°æœ‰å…³é”®è¯ï¼š`solver`, `iopt`, `hess`, `tolgrad`, `tolstep`, `tolene`, `trust`, `maxcycle` ç­‰
  
- âœ… **RESP æ¨¡å—é€ä¼ **ï¼š
  - æ˜ å°„ï¼š`settings.resp` â†’ `$RESP` æ¨¡å—
  - ä¿æŠ¤ç°æœ‰å…³é”®è¯ï¼š`geom`, `norder`, `method`, `nfiles`, `iroot`, `iprt`, `maxmem`, `solneqlr`, `soleqlr`, `solneqss`, `soleqss`
  
- âœ… **MP2 æ¨¡å—é€ä¼ **ï¼š
  - æ˜ å°„ï¼š`settings.mp2` â†’ `$MP2` æ¨¡å—
  - å®Œæ•´çš„é€ä¼ æ”¯æŒï¼ˆæ— ç‰¹å®šä¿æŠ¤å…³é”®è¯ï¼‰
  
- âœ… **XUANYUAN æ¨¡å—é€ä¼ **ï¼š
  - æ˜ å°„ï¼š`settings.xuanyuan` å’Œ `settings.atomic_orbital_integral` â†’ `$XUANYUAN` æ¨¡å—
  - ä¿æŠ¤å…³é”®è¯ï¼š`rs`, `heff`, `hso`ï¼ˆç”±ç›¸å¯¹è®ºå“ˆå¯†é¡¿æ§åˆ¶æœºåˆ¶ç®¡ç†ï¼‰
  - æ­£ç¡®å¤„ç† `grid` å…³é”®è¯ï¼ˆSCF/TDDFT/RESP æ¨¡å—å¤„ç†ï¼ŒXUANYUAN å¿½ç•¥ï¼‰

#### 5.3 æµ‹è¯•è¦†ç›–
- âœ… `test_converter_passthrough.py`ï¼šå…¨é¢çš„é€ä¼ æœºåˆ¶æµ‹è¯•
  - å…³é”®è¯æ ¼å¼æµ‹è¯•ï¼ˆé¦–å­—æ¯å¤§å†™ã€åˆ†è¡Œï¼‰
  - å¸ƒå°”å€¼å¤„ç†æµ‹è¯•ï¼ˆtrue â†’ ä»…å…³é”®è¯ï¼Œfalse â†’ å¿½ç•¥ï¼‰
  - åˆ—è¡¨å¤„ç†æµ‹è¯•ï¼ˆè‡ªåŠ¨è¿‡æ»¤ false å€¼ï¼‰
  - ä¿æŠ¤å…³é”®è¯æµ‹è¯•ï¼ˆé˜²æ­¢è¦†ç›–ï¼‰
  - æ¨¡å—æ˜ å°„æµ‹è¯•

### 6. ç›¸å¯¹è®ºå“ˆå¯†é¡¿æ§åˆ¶ âœ… â­ NEW (2025å¹´12æœˆ)

#### 6.1 è‡ªåŠ¨æ£€æµ‹æœºåˆ¶
- âœ… **é‡å…ƒç´ æ£€æµ‹**ï¼š
  - è‡ªåŠ¨è¯†åˆ«ç¬¬å››å‘¨æœŸåŠä»¥åçš„å…ƒç´ ï¼ˆK, Ca, ..., Lrï¼‰
  - ä»åˆ†å­åæ ‡ä¸­æå–å…ƒç´ ç¬¦å·
  
- âœ… **ç›¸å¯¹è®ºåŸºç»„æ£€æµ‹**ï¼š
  - è¯†åˆ«ç›¸å¯¹è®ºåŸºç»„å…³é”®è¯ï¼š`x2c`, `dkh`, `dk`, `dyall`, `relativistic`, `rcc`
  
- âœ… **ECP æ£€æµ‹**ï¼š
  - è¯†åˆ«æœ‰æ•ˆæ ¸åŠ¿ï¼ˆECPï¼‰åŸºç»„

#### 6.2 æ ‡é‡ç›¸å¯¹è®ºå“ˆå¯†é¡¿ï¼ˆheffï¼‰
- âœ… **è‡ªåŠ¨å¯ç”¨é€»è¾‘**ï¼š
  - å½“æ£€æµ‹åˆ°é‡å…ƒç´ æˆ–ç›¸å¯¹è®ºåŸºç»„ï¼Œä¸”æœªä½¿ç”¨ ECP æ—¶ï¼Œè‡ªåŠ¨æ·»åŠ  `heff=3`ï¼ˆsf-X2Cï¼‰
  
- âœ… **ç”¨æˆ·æ§åˆ¶**ï¼š
  - `hamiltonian.scalar_Hamiltonian: true` â†’ è‡ªåŠ¨ä½¿ç”¨é»˜è®¤å€¼ `heff=3`
  - `hamiltonian.scalar_Hamiltonian: <æ•°å€¼>` â†’ ä½¿ç”¨ç”¨æˆ·æŒ‡å®šçš„æ•°å€¼ï¼ˆå¦‚ `heff=21`, `heff=22`, `heff=23`ï¼‰
  - `hamiltonian.scalar_Hamiltonian: false` â†’ ç¦ç”¨æ ‡é‡ç›¸å¯¹è®º
  
- âœ… **æ”¯æŒçš„ heff å€¼**ï¼š
  - `0`ï¼šéç›¸å¯¹è®º
  - `3`, `4`ï¼šsf-X2Cï¼ˆé»˜è®¤ä½¿ç”¨ `3`ï¼‰
  - `21`ï¼šsf-X2Cï¼ˆæ”¯æŒè§£æå¯¼æ•°ï¼‰
  - `22`ï¼šsf-X2C-aXRï¼ˆåŸå­ X çŸ©é˜µè¿‘ä¼¼ï¼‰
  - `23`ï¼šsf-X2C-aUï¼ˆåŸå­é…‰å˜æ¢è¿‘ä¼¼ï¼‰

#### 6.3 è‡ªæ—‹è½¨é“è€¦åˆï¼ˆhsoï¼‰
- âœ… **è‡ªåŠ¨å€¼é€‰æ‹©**ï¼š
  - å…¨ç”µå­åŸºç»„ï¼šé»˜è®¤ `hso=2`ï¼ˆso-1e + SOMF-1cï¼Œæ¨èé€‰é¡¹ï¼‰
  - ECP åŸºç»„ï¼šé»˜è®¤ `hso=10`ï¼ˆBP è¿‘ä¼¼ä¸‹çš„ç®—ç¬¦ï¼ŒECP å”¯ä¸€æ¥å—çš„å€¼ï¼‰
  
- âœ… **ç”¨æˆ·æ§åˆ¶**ï¼š
  - `hamiltonian.spin-orbit-coupling: true` â†’ ä½¿ç”¨è‡ªåŠ¨å€¼ï¼ˆ2 æˆ– 10ï¼‰
  - `hamiltonian.spin-orbit-coupling: <æ•°å€¼>` â†’ ä½¿ç”¨ç”¨æˆ·æŒ‡å®šçš„æ•°å€¼
  - `hamiltonian.spin-orbit-coupling: false` â†’ ç¦ç”¨è‡ªæ—‹è½¨é“è€¦åˆ
  
- âœ… **æ”¯æŒçš„ hso å€¼**ï¼ˆå…¨ç”µå­ï¼‰ï¼š
  - `0`ï¼šso-1eï¼ˆä»…å•ç”µå­ SO ç§¯åˆ†ï¼‰
  - `1`ï¼šso-1e + SOMFï¼ˆæœ€å‡†ç¡®ï¼‰
  - `2`ï¼šso-1e + SOMF-1cï¼ˆæ¨èï¼Œé€‚åˆå¤§åˆ†å­ï¼‰
  - `3-7`ï¼šå…¶ä»–å˜ä½“
  - åŠ ä¸Š `10`ï¼šä½¿ç”¨ BP è¿‘ä¼¼ï¼ˆECP åŸºç»„ï¼‰

#### 6.4 é…ç½®å±‚çº§
- âœ… **é¡¶å±‚é…ç½®**ï¼š
  - `hamiltonian` å­—æ®µä½äº YAML é¡¶å±‚ï¼Œä¸ `method`ã€`settings` å¹³çº§
  - ä¸å†ä½äº `settings` ä¸‹ï¼Œç®€åŒ–é…ç½®ç»“æ„

#### 6.5 æµ‹è¯•è¦†ç›–
- âœ… é‡å…ƒç´ è‡ªåŠ¨æ£€æµ‹æµ‹è¯•ï¼ˆFeO åˆ†å­ç¤ºä¾‹ï¼‰
- âœ… ç›¸å¯¹è®ºåŸºç»„è‡ªåŠ¨æ£€æµ‹æµ‹è¯•
- âœ… ECP åŸºç»„å¤„ç†æµ‹è¯•
- âœ… ç”¨æˆ·æ˜¾å¼æ§åˆ¶æµ‹è¯•
- âœ… YAML é…ç½®å±‚çº§æµ‹è¯•

## ğŸ“ é¡¹ç›®ç»“æ„

```
BDFEasyInput/
â”œâ”€â”€ bdfeasyinput/              # æ ¸å¿ƒåŒ…
â”‚   â”œâ”€â”€ converter.py           # YAML â†’ BDF è½¬æ¢å™¨
â”‚   â”œâ”€â”€ validator.py           # è¾“å…¥éªŒè¯å™¨
â”‚   â”œâ”€â”€ cli.py                 # å‘½ä»¤è¡Œæ¥å£
â”‚   â”œâ”€â”€ config.py              # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ modules/               # æ¨¡å—ç”Ÿæˆå™¨
â”‚   â”‚   â”œâ”€â”€ compass.py
â”‚   â”‚   â”œâ”€â”€ scf.py
â”‚   â”‚   â”œâ”€â”€ tddft.py
â”‚   â”‚   â”œâ”€â”€ bdfopt.py
â”‚   â”‚   â”œâ”€â”€ resp.py
â”‚   â”‚   â”œâ”€â”€ mp2.py
â”‚   â”‚   â”œâ”€â”€ xuanyuan.py
â”‚   â”‚   â””â”€â”€ passthrough.py  # å…³é”®è¯é€ä¼ æœºåˆ¶
â”‚   â”œâ”€â”€ execution/             # æ‰§è¡Œæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ bdf_direct.py
â”‚   â”‚   â””â”€â”€ bdfautotest.py
â”‚   â”œâ”€â”€ analysis/              # åˆ†ææ¨¡å—
â”‚   â”‚   â”œâ”€â”€ parser/
â”‚   â”‚   â”‚   â””â”€â”€ output_parser.py
â”‚   â”‚   â”œâ”€â”€ analyzer/
â”‚   â”‚   â”‚   â””â”€â”€ quantum_chem_analyzer.py
â”‚   â”‚   â”œâ”€â”€ report/
â”‚   â”‚   â”‚   â”œâ”€â”€ report_generator.py
â”‚   â”‚   â”‚   â””â”€â”€ report_labels.py
â”‚   â”‚   â””â”€â”€ prompt/
â”‚   â”‚       â”œâ”€â”€ analysis_prompts.py
â”‚   â”‚       â””â”€â”€ analysis_prompts_en.py
â”‚   â””â”€â”€ ai/                    # AI æ¨¡å—
â”‚       â”œâ”€â”€ client/            # AI å®¢æˆ·ç«¯
â”‚       â”œâ”€â”€ planner/           # ä»»åŠ¡è§„åˆ’
â”‚       â””â”€â”€ parser/            # AI è¾“å‡ºè§£æ
â”œâ”€â”€ config/                     # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ config.yaml
â”œâ”€â”€ examples/                   # ç¤ºä¾‹æ–‡ä»¶
â”œâ”€â”€ tests/                      # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ docs/                       # æ–‡æ¡£
â”‚   â”œâ”€â”€ dev/                    # å¼€å‘æ–‡æ¡£
â”‚   â””â”€â”€ ...
â”œâ”€â”€ debug/                      # è°ƒè¯•è¾“å‡º
â””â”€â”€ README.md                   # é¡¹ç›®è¯´æ˜
```

## ğŸ§ª æµ‹è¯•çŠ¶æ€

### å·²æµ‹è¯•çš„è®¡ç®—ç±»å‹
- âœ… SCF å•ç‚¹èƒ½è®¡ç®—ï¼ˆæ°´åˆ†å­ï¼‰
- âœ… TDDFT æ¿€å‘æ€è®¡ç®—ï¼ˆæ°´åˆ†å­ã€ç”²é†›ï¼‰
- âœ… Spin-flip TDDFTï¼ˆtest044ï¼‰
- âœ… åŸºæ€æº¶å‰‚åŒ–ï¼ˆç”²é†›ï¼‰
- âœ… **cLR éå¹³è¡¡æº¶å‰‚åŒ–**ï¼ˆç”²é†›ï¼Œch2o2ï¼‰
- âœ… **ptSS æ€ç‰¹å®šéå¹³è¡¡æº¶å‰‚åŒ–**ï¼ˆç”²é†›ï¼Œch2o1ï¼‰

### æµ‹è¯•æ–‡ä»¶
- âœ… `test_converter_snapshots.py` - è½¬æ¢å™¨å¿«ç…§æµ‹è¯•
- âœ… `test_converter_passthrough.py` - å…³é”®è¯é€ä¼ æœºåˆ¶æµ‹è¯• â­ NEW
- âœ… `test_execution_runners.py` - æ‰§è¡Œå™¨æµ‹è¯•
- âœ… `test_output_parser_*.py` - è§£æå™¨æµ‹è¯•
- âœ… å®Œæ•´å·¥ä½œæµæµ‹è¯•ï¼ˆä» YAML åˆ°åˆ†ææŠ¥å‘Šï¼‰

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1ï¼šcLR çº¿æ€§å“åº”éå¹³è¡¡æº¶å‰‚åŒ–

```yaml
task:
  type: tddft

molecule:
  name: Formaldehyde
  charge: 0
  multiplicity: 1
  coordinates:
    - C  0.00000000  0.00000000  -0.54200000
    - O  0.00000000  0.00000000   0.67700000
    - H  0.00000000  0.93500000  -1.08200000
    - H  0.00000000 -0.93500000  -1.08200000
  units: angstrom

method:
  type: dft
  functional: b3lyp
  basis: cc-pvdz

settings:
  scf:
    solvent:
      name: water
      model: iefpcm
  tddft:
    n_states: 8
    solvent_effect:
      mode: clr   # çº¿æ€§å“åº”éå¹³è¡¡æº¶å‰‚åŒ–
```

### ç¤ºä¾‹ 2ï¼šptSS æ€ç‰¹å®šå¾®æ‰°ç†è®º

```yaml
task:
  type: tddft

molecule:
  name: Formaldehyde
  charge: 0
  multiplicity: 1
  coordinates:
    - C  0.00000000  0.00000000  -0.54200000
    - O  0.00000000  0.00000000   0.67700000
    - H  0.00000000  0.93500000  -1.08200000
    - H  0.00000000 -0.93500000  -1.08200000
  units: angstrom

method:
  type: dft
  functional: b3lyp
  basis: cc-pvdz

settings:
  scf:
    solvent:
      name: water
      model: iefpcm
  tddft:
    n_states: 4
    solvent_effect:
      mode: ptss   # æ€ç‰¹å®šå¾®æ‰°ç†è®º
      resp_nfiles: 1
      resp_iroot: 1
```

### ç¤ºä¾‹ 3ï¼šå…³é”®è¯é€ä¼ æœºåˆ¶

```yaml
task:
  type: energy

molecule:
  charge: 0
  multiplicity: 1
  coordinates:
    - H  0.0000 0.0000 0.0000
    - H  0.0000 0.0000 1.0000

method:
  type: dft
  functional: b3lyp
  basis: cc-pvdz

# ä½¿ç”¨å…³é”®è¯é€ä¼ ç›´æ¥æŒ‡å®š BDF åŸç”Ÿå…³é”®è¯
settings:
  scf:
    diis: 0.7              # æ•°å€¼ç±»å‹ï¼šè‡ªåŠ¨æ ¼å¼åŒ–ä¸º "Diis\n 0.7"
    damp: true             # å¸ƒå°” trueï¼šä»…è¾“å‡ºå…³é”®è¯ "Damp"
    grid: "fine"           # å­—ç¬¦ä¸²ç±»å‹ï¼šè‡ªåŠ¨æ ¼å¼åŒ–ä¸º "Grid\n fine"
    convergence: 1e-6      # ä¸åŒäºé»˜è®¤å€¼ï¼Œè‡ªåŠ¨æ·»åŠ  THRENE å…³é”®è¯
  tddft:
    crit_e: 1e-6           # TDDFT æ”¶æ•›é˜ˆå€¼
  geometry_optimization:
    maxcycle: 200          # ä¼˜åŒ–æœ€å¤§å¾ªç¯æ•°
    remove_imaginary_frequencies: true  # å¸ƒå°” trueï¼šä»…è¾“å‡ºå…³é”®è¯
```

### ç¤ºä¾‹ 4ï¼šç›¸å¯¹è®ºå“ˆå¯†é¡¿æ§åˆ¶

```yaml
task:
  type: energy

molecule:
  charge: 0
  multiplicity: 1
  coordinates:
    - Fe  0.0000 0.0000 0.0000
    - O   0.0000 0.0000 1.6150

method:
  type: dft
  functional: b3lyp
  basis: ANO-RCC-VTZP  # ç›¸å¯¹è®ºåŸºç»„

# ç›¸å¯¹è®ºå“ˆå¯†é¡¿æ§åˆ¶ï¼ˆé¡¶å±‚é…ç½®ï¼‰
hamiltonian:
  scalar_Hamiltonian: true      # è‡ªåŠ¨æ£€æµ‹åˆ° Feï¼Œä½¿ç”¨é»˜è®¤ heff=3 (sf-X2C)
  spin-orbit-coupling: true     # å¯ç”¨è‡ªæ—‹è½¨é“è€¦åˆï¼Œè‡ªåŠ¨é€‰æ‹© hso=2

# æˆ–æ˜¾å¼æŒ‡å®šæ•°å€¼
# hamiltonian:
#   scalar_Hamiltonian: 21      # ä½¿ç”¨ sf-X2C (æ”¯æŒè§£æå¯¼æ•°)
#   spin-orbit-coupling: 2      # ä½¿ç”¨ so-1e + SOMF-1c
```

## ğŸ¯ ä¸‹ä¸€æ­¥è®¡åˆ’

### çŸ­æœŸç›®æ ‡
- [ ] å®Œå–„ç”¨æˆ·æ–‡æ¡£
- [ ] æ·»åŠ æ›´å¤šè®¡ç®—ç¤ºä¾‹
- [ ] æ€§èƒ½ä¼˜åŒ–

### ä¸­æœŸç›®æ ‡
- [x] MP2 æ¨¡å—æ”¯æŒï¼ˆå·²å®ŒæˆåŸºç¡€é€ä¼ æ”¯æŒï¼‰âœ…
- [ ] æ”¯æŒæ›´å¤šå HF æ–¹æ³•ï¼ˆCCSD, CCSD(T) ç­‰ï¼‰
- [ ] æ”¯æŒæ›´å¤šæº¶å‰‚æ¨¡å‹
- [ ] æ‰¹é‡è®¡ç®—æ”¯æŒ
- [ ] æ›´å¤š BDF æ¨¡å—çš„é€ä¼ æ”¯æŒï¼ˆLOCALMO, NMR, AUTOFRAG ç­‰ï¼‰

### é•¿æœŸç›®æ ‡
- [ ] Web ç•Œé¢
- [ ] æ•°æ®åº“é›†æˆ
- [ ] äº‘ç«¯è®¡ç®—æ”¯æŒ

## ğŸ“Š ç»Ÿè®¡æ•°æ®

- **ä»£ç æ–‡ä»¶æ•°**ï¼š53+ Python æ–‡ä»¶
- **æµ‹è¯•æ–‡ä»¶æ•°**ï¼š38+ æµ‹è¯•æ–‡ä»¶
- **ç¤ºä¾‹æ–‡ä»¶æ•°**ï¼š24+ ç¤ºä¾‹
- **æ–‡æ¡£æ–‡ä»¶æ•°**ï¼š43+ æ–‡æ¡£
- **æ”¯æŒçš„è®¡ç®—ç±»å‹**ï¼š5+ ç§
- **æ”¯æŒçš„ BDF æ¨¡å—**ï¼šCOMPASS, SCF, TDDFT, BDFOPT, RESP, MP2, XUANYUAN
- **æ”¯æŒçš„ AI æœåŠ¡å•†**ï¼š9 ä¸ª
- **æ”¯æŒçš„è¯­è¨€**ï¼šä¸­æ–‡ã€è‹±æ–‡

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [é¡¹ç›®è§„åˆ’](PROJECT_PLAN.md)
- [æ¶æ„è®¾è®¡](ARCHITECTURE.md)
- [AI æ¨¡å—è®¾è®¡](AI_MODULE_DESIGN.md)
- [æ‰§è¡Œæ¨¡å—å®ç°](EXECUTION_IMPLEMENTATION.md)
- [åˆ†ææ¨¡å—è®¾è®¡](EXECUTION_AND_ANALYSIS_DESIGN.md)

---

**é¡¹ç›®çŠ¶æ€**: âœ… æ ¸å¿ƒåŠŸèƒ½å·²å®Œæˆï¼ŒæŒç»­å¢å¼ºä¸­
